<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sticky Patches | Documentation</title>
    <meta name="description" content="Kernelcare documentation">
    
    
    <link rel="preload" href="/assets/css/0.styles.8ca6b66c.css" as="style"><link rel="preload" href="/assets/js/app.bcc46952.js" as="script"><link rel="preload" href="/assets/js/40.5a94e4e7.js" as="script"><link rel="prefetch" href="/assets/js/1.8353e851.js"><link rel="prefetch" href="/assets/js/10.a940ac69.js"><link rel="prefetch" href="/assets/js/11.d9febe8e.js"><link rel="prefetch" href="/assets/js/12.983230c7.js"><link rel="prefetch" href="/assets/js/13.cd26059b.js"><link rel="prefetch" href="/assets/js/14.348feee3.js"><link rel="prefetch" href="/assets/js/15.ca99983e.js"><link rel="prefetch" href="/assets/js/16.657d8b7f.js"><link rel="prefetch" href="/assets/js/17.40792003.js"><link rel="prefetch" href="/assets/js/18.44423953.js"><link rel="prefetch" href="/assets/js/19.6ecccafe.js"><link rel="prefetch" href="/assets/js/2.78f29c86.js"><link rel="prefetch" href="/assets/js/20.a7ced964.js"><link rel="prefetch" href="/assets/js/21.aa9e39aa.js"><link rel="prefetch" href="/assets/js/22.abf3e90c.js"><link rel="prefetch" href="/assets/js/23.9d9d3823.js"><link rel="prefetch" href="/assets/js/24.6764129a.js"><link rel="prefetch" href="/assets/js/25.4d861c70.js"><link rel="prefetch" href="/assets/js/26.a3679a4d.js"><link rel="prefetch" href="/assets/js/27.4aefa8c5.js"><link rel="prefetch" href="/assets/js/28.485cf69a.js"><link rel="prefetch" href="/assets/js/29.50425836.js"><link rel="prefetch" href="/assets/js/30.ee4e9568.js"><link rel="prefetch" href="/assets/js/31.8b89124e.js"><link rel="prefetch" href="/assets/js/32.80f524d1.js"><link rel="prefetch" href="/assets/js/33.4f17a919.js"><link rel="prefetch" href="/assets/js/34.7b56bd5d.js"><link rel="prefetch" href="/assets/js/35.b4e0a3ab.js"><link rel="prefetch" href="/assets/js/36.5612976e.js"><link rel="prefetch" href="/assets/js/37.98a5f53f.js"><link rel="prefetch" href="/assets/js/38.b8b32cfd.js"><link rel="prefetch" href="/assets/js/39.7b868cda.js"><link rel="prefetch" href="/assets/js/41.2052311d.js"><link rel="prefetch" href="/assets/js/42.db099ae3.js"><link rel="prefetch" href="/assets/js/43.b19f8a61.js"><link rel="prefetch" href="/assets/js/44.77f56898.js"><link rel="prefetch" href="/assets/js/45.054e8dc3.js"><link rel="prefetch" href="/assets/js/5.21f72955.js"><link rel="prefetch" href="/assets/js/6.2a3a7c8f.js"><link rel="prefetch" href="/assets/js/7.212af394.js"><link rel="prefetch" href="/assets/js/8.6a40905c.js"><link rel="prefetch" href="/assets/js/9.e4334b9c.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c6ce7e22.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8ca6b66c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/kc-logo.svg" alt="Documentation" class="logo"> <span class="site-name can-hide">Documentation</span></a> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value="Search"> <!----></div> <div class="links" style="max-width:nullpx;"><a href="https://cloudlinux.com/kernelcare-free-trial5" target="_blank" class="btn">
      Try Free
    </a> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sticky_patches/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/ru/sticky_patches/" class="nav-link">Русский</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sticky_patches/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/ru/sticky_patches/" class="nav-link">Русский</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Content</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/installation/" class="sidebar-link">Installation of KernelCare</a></li><li><a href="/settings/" class="sidebar-link">Basic Management</a></li><li><a href="/command_line/" class="sidebar-link">Command Line Tools</a></li><li><a href="/config_options/" class="sidebar-link">Config Options</a></li><li><a href="/disabling_some_patches/" class="sidebar-link">Disabling Some Patches</a></li><li><a href="/delayed_feed/" class="sidebar-link">Delayed Feed</a></li><li><a href="/extra_patchse/" class="sidebar-link">Extra Patchset</a></li><li><a href="/sticky_patches/" class="active sidebar-link">Sticky Patches</a></li><li><a href="/nagios_plugin/" class="sidebar-link">Nagios Plugin</a></li><li><a href="/zabbix_template/" class="sidebar-link">Zabbix Template</a></li><li><a href="/upgrade/" class="sidebar-link">Upgrade</a></li><li><a href="/uninsta/" class="sidebar-link">Uninstall KernelCare</a></li><li><a href="/technology/" class="sidebar-link">Technology</a></li><li><a href="/reseller_partner_ui/" class="sidebar-link">Reseller Partner UI</a></li><li><a href="/kernelcare_enterprise/" class="sidebar-link">KernelCare.ePortal</a></li><li><a href="/kcare-nexpose/" class="sidebar-link">Kcare-nexpose</a></li><li><a href="/kernelcare_whmcs_plugin/" class="sidebar-link">KernelCare WHMCS Plugin</a></li><li><a href="/proxy_settings/" class="sidebar-link">Firewall and Proxy Settings</a></li><li><a href="/eol_ubuntu_lts_kernels_suppor/" class="sidebar-link">EOL Ubuntu LTS kernels support</a></li><li><a href="/downloading_documentation/" class="sidebar-link">Downloading Documentation</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="sticky-patches"><a href="#sticky-patches" aria-hidden="true" class="header-anchor">#</a> Sticky Patches</h1> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This functionality is not available to ePortal customers. If you are using ePortal, please use <a href="/kernelcare_enterprise/#feed-management">Feeds</a> instead</p></div> <p>Sometimes you don't want to use the latest patches, but you'd like to control which patches are get installed instead. For example, you have tested the patch released on 25th of May 2018 and want to use that patch across all servers.</p> <p>You can do it by setting <code>STICKY_PATCH=250518</code> (ddmmyy format) in <code>/etc/sysconfig/kcare/kcare.conf</code>
This guarantees that when <code>kcarectl --update</code> or <code>kcarectl --auto-update</code> is called, you will get patches from that date and not the newest patches.</p> <p>With <code>STICKY_PATCH</code> you can go back as far as 60 days.</p> <p>Alternatively, you can set <code>STICKY_PATCH=KEY</code>
This way you can control the date from which patches will be applied using KernelCare keys in CLN.
On update, the actual date will be retrieved from CLN (from Key settings) for the key used to register a particular server (not supported for IP based servers).</p> <p>This is very useful if you want to test patches in QA first and later roll them out to production without doing any changes on the systems.</p> <p>Here is how you can do that:</p> <p>Set <code>STICKY_PATCH=KEY</code> on all your servers.
Register QA servers with one KEY, and Production servers with ANOTHER key.
Then, stop new updates for Production servers. In CLN set <em>Sticky Tag</em> to <em>yesterday</em> . You can do it by editing KEY in CLN in DDMMYY format.
Now, for example, let's use patches as of 03052018 (DDMMYY format). Set them for your QA server key. On the next auto-update, your QA servers will get those patches (auto-updates are typically every 4 hours).</p> <p>Once you are happy with this patches, set the same Sticky Tag for Production servers key. In 4 hours your production servers should be updated to the same patches that QA servers were.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>You can choose any date within the last 60 days. You cannot choose today's date or date in the future.</p></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/extra_patchse/" class="prev">
          Extra Patchset
        </a></span> <span class="next"><a href="/nagios_plugin/">
          Nagios Plugin
        </a>
        →
      </span></p></div> </div> <div class="footer" data-v-675e349c><div data-v-675e349c><a href="https://cloudlinux.com" data-v-675e349c><img src="/we-are-cloudlinux.svg" alt="We are Cloudlinux" data-v-675e349c></a></div> <div data-v-675e349c>2018. CloudLinux Inc</div> <div data-v-675e349c><div data-v-675e349c><a href="#" target="_blank" data-v-675e349c>How to</a></div><div data-v-675e349c><a href="#" target="_blank" data-v-675e349c>Getting started</a></div><div data-v-675e349c><a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" data-v-675e349c>Contact support</a></div><div data-v-675e349c><a href="https://www.cloudlinux.com/kernelcare-blog" target="_blank" data-v-675e349c>Blog</a></div></div> <div class="social" data-v-675e349c><span data-v-675e349c>Stay in touch</span> <a href="https://www.facebook.com/kernelcare/" target="_blank" data-v-675e349c><img src="/fb.svg" data-v-675e349c></a><a href="https://twitter.com/kernelcare" target="_blank" data-v-675e349c><img src="/tw.svg" data-v-675e349c></a><a href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-675e349c><img src="/in.svg" data-v-675e349c></a><a href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-675e349c><img src="/ytube.svg" data-v-675e349c></a></div></div> <!----></div></div>
    <script src="/assets/js/40.5a94e4e7.js" defer></script><script src="/assets/js/app.bcc46952.js" defer></script>
  </body>
</html>
