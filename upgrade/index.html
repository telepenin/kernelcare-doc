<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrade | Documentation</title>
    <meta name="description" content="Kernelcare documentation">
    
    
    <link rel="preload" href="/assets/css/0.styles.8ca6b66c.css" as="style"><link rel="preload" href="/assets/js/app.bcc46952.js" as="script"><link rel="preload" href="/assets/js/43.b19f8a61.js" as="script"><link rel="prefetch" href="/assets/js/1.8353e851.js"><link rel="prefetch" href="/assets/js/10.a940ac69.js"><link rel="prefetch" href="/assets/js/11.d9febe8e.js"><link rel="prefetch" href="/assets/js/12.983230c7.js"><link rel="prefetch" href="/assets/js/13.cd26059b.js"><link rel="prefetch" href="/assets/js/14.348feee3.js"><link rel="prefetch" href="/assets/js/15.ca99983e.js"><link rel="prefetch" href="/assets/js/16.657d8b7f.js"><link rel="prefetch" href="/assets/js/17.40792003.js"><link rel="prefetch" href="/assets/js/18.44423953.js"><link rel="prefetch" href="/assets/js/19.6ecccafe.js"><link rel="prefetch" href="/assets/js/2.78f29c86.js"><link rel="prefetch" href="/assets/js/20.a7ced964.js"><link rel="prefetch" href="/assets/js/21.aa9e39aa.js"><link rel="prefetch" href="/assets/js/22.abf3e90c.js"><link rel="prefetch" href="/assets/js/23.9d9d3823.js"><link rel="prefetch" href="/assets/js/24.6764129a.js"><link rel="prefetch" href="/assets/js/25.4d861c70.js"><link rel="prefetch" href="/assets/js/26.a3679a4d.js"><link rel="prefetch" href="/assets/js/27.4aefa8c5.js"><link rel="prefetch" href="/assets/js/28.485cf69a.js"><link rel="prefetch" href="/assets/js/29.50425836.js"><link rel="prefetch" href="/assets/js/30.ee4e9568.js"><link rel="prefetch" href="/assets/js/31.8b89124e.js"><link rel="prefetch" href="/assets/js/32.80f524d1.js"><link rel="prefetch" href="/assets/js/33.4f17a919.js"><link rel="prefetch" href="/assets/js/34.7b56bd5d.js"><link rel="prefetch" href="/assets/js/35.b4e0a3ab.js"><link rel="prefetch" href="/assets/js/36.5612976e.js"><link rel="prefetch" href="/assets/js/37.98a5f53f.js"><link rel="prefetch" href="/assets/js/38.b8b32cfd.js"><link rel="prefetch" href="/assets/js/39.7b868cda.js"><link rel="prefetch" href="/assets/js/40.5a94e4e7.js"><link rel="prefetch" href="/assets/js/41.2052311d.js"><link rel="prefetch" href="/assets/js/42.db099ae3.js"><link rel="prefetch" href="/assets/js/44.77f56898.js"><link rel="prefetch" href="/assets/js/45.054e8dc3.js"><link rel="prefetch" href="/assets/js/5.21f72955.js"><link rel="prefetch" href="/assets/js/6.2a3a7c8f.js"><link rel="prefetch" href="/assets/js/7.212af394.js"><link rel="prefetch" href="/assets/js/8.6a40905c.js"><link rel="prefetch" href="/assets/js/9.e4334b9c.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c6ce7e22.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8ca6b66c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/kc-logo.svg" alt="Documentation" class="logo"> <span class="site-name can-hide">Documentation</span></a> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value="Search"> <!----></div> <div class="links" style="max-width:nullpx;"><a href="https://cloudlinux.com/kernelcare-free-trial5" target="_blank" class="btn">
      Try Free
    </a> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/upgrade/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/ru/upgrade/" class="nav-link">Русский</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/upgrade/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/ru/upgrade/" class="nav-link">Русский</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Content</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/installation/" class="sidebar-link">Installation of KernelCare</a></li><li><a href="/settings/" class="sidebar-link">Basic Management</a></li><li><a href="/command_line/" class="sidebar-link">Command Line Tools</a></li><li><a href="/config_options/" class="sidebar-link">Config Options</a></li><li><a href="/disabling_some_patches/" class="sidebar-link">Disabling Some Patches</a></li><li><a href="/delayed_feed/" class="sidebar-link">Delayed Feed</a></li><li><a href="/extra_patchse/" class="sidebar-link">Extra Patchset</a></li><li><a href="/sticky_patches/" class="sidebar-link">Sticky Patches</a></li><li><a href="/nagios_plugin/" class="sidebar-link">Nagios Plugin</a></li><li><a href="/zabbix_template/" class="sidebar-link">Zabbix Template</a></li><li><a href="/upgrade/" class="active sidebar-link">Upgrade</a></li><li><a href="/uninsta/" class="sidebar-link">Uninstall KernelCare</a></li><li><a href="/technology/" class="sidebar-link">Technology</a></li><li><a href="/reseller_partner_ui/" class="sidebar-link">Reseller Partner UI</a></li><li><a href="/kernelcare_enterprise/" class="sidebar-link">KernelCare.ePortal</a></li><li><a href="/kcare-nexpose/" class="sidebar-link">Kcare-nexpose</a></li><li><a href="/kernelcare_whmcs_plugin/" class="sidebar-link">KernelCare WHMCS Plugin</a></li><li><a href="/proxy_settings/" class="sidebar-link">Firewall and Proxy Settings</a></li><li><a href="/eol_ubuntu_lts_kernels_suppor/" class="sidebar-link">EOL Ubuntu LTS kernels support</a></li><li><a href="/downloading_documentation/" class="sidebar-link">Downloading Documentation</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="upgrade"><a href="#upgrade" aria-hidden="true" class="header-anchor">#</a> Upgrade</h1> <p><strong>How to upgrade from a ‘free patchset’ to a fully functional, paid KernelCare license</strong></p> <p>If you installed our complementary Symlink Protection patchset and now would like to take advantage of the comprehensive kernel security updates without reboots that <a href="https://www.kernelcare.com/" target="_blank" rel="noopener noreferrer">KernelCare<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> delivers, below describes how to do it.</p> <p>Review our pricing page and purchase a license key <a href="https://www.kernelcare.com/pricing/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> . If you already have a CLN account, you can purchase a plan by logging into <a href="https://cln.cloudlinux.com/clweb/login.xhtml" target="_blank" rel="noopener noreferrer">CLN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> .</p> <p>If you are using an IP-based license, nothing else is required and you are all set.</p> <p>If you are using a key-based license, run:</p> <div class="language- extra-class"><pre class="language-text"><code>$ /usr/bin/kcarectl --register KEY
</code></pre></div><p>To check if patches were applied, run:</p> <div class="language- extra-class"><pre class="language-text"><code>$ /usr/bin/kcarectl --info
</code></pre></div><p>The software will automatically check for new patches every 4 hours, but if you would like to perform an update manually, run:</p> <div class="language- extra-class"><pre class="language-text"><code>$ /usr/bin/kcarectl --update
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p> <p>Free’ patches are changed to ‘default’ now. If you still need symlink protection, you would need to apply ‘extra’ patches - they include symlink protection plus the security fixes for CentOS 6 and CentOS 7 (there are no extra charges for extra patches).</p></div> <p>To enable extra patches and apply patch, run:</p> <div class="language- extra-class"><pre class="language-text"><code>kcarectl --set-patch-type extra --update
</code></pre></div><p>To enable extra patches without update, run:</p> <div class="language- extra-class"><pre class="language-text"><code>kcarectll --set-patch-type extra
</code></pre></div><p>The ‘extra’ patch will be applied on the next automatic update.</p> <p>To see details run:</p> <div class="language- extra-class"><pre class="language-text"><code>kcarectl --patch-info
</code></pre></div><p>You should see something similar to:</p> <div class="language- extra-class"><pre class="language-text"><code>OS: centos6
kernel: kernel-2.6.32-696.6.3.el6
time: 2017-07-31 22:46:22
uname: 2.6.32-696.6.3.el6
kpatch-name: 2.6.32/symlink-protection.patch
kpatch-description: symlink protection // If you see this patch, it means that you can enable symlink protection.
kpatch-kernel: kernel-2.6.32-279.2.1.el6
kpatch-cve: N/A
kpatch-cvss: N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/
kpatch-name: 2.6.32/symlink-protection.kpatch-1.patch
kpatch-description: symlink protection (kpatch adaptation)
kpatch-kernel: kernel-2.6.32-279.2.1.el6
kpatch-cve: N/A
kpatch-cvss: N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/
kpatch-name: 2.6.32/ipset-fix-list-shrinking.patch
kpatch-description: fix ipset list shrinking for no reason
kpatch-kernel: N/A
kpatch-cve: N/A
kpatch-cvss:N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://bugs.centos.org/view.php?id=13499
</code></pre></div><p>To enable Symlink Owner Match Protection, add the following line:</p> <div class="language- extra-class"><pre class="language-text"><code>Fs.enforce_symlinksifowner =1
</code></pre></div><p>Into <em>/etc/sysconfig/kcare/sysctl.conf.</em> And run:</p> <div class="language- extra-class"><pre class="language-text"><code>sysctl -w fs.enforce_symlinksifowner=1
</code></pre></div><p>See <a href="http://docs.cloudlinux.com/index.html?symlink_owner_match_protection.html" target="_blank" rel="noopener noreferrer">http://docs.cloudlinux.com/index.html?symlink_owner_match_protection.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p> <p>More information can be found here: <a href="http://www.kernelcare.com/faq.php" target="_blank" rel="noopener noreferrer">http://www.kernelcare.com/faq.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> .</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/zabbix_template/" class="prev">
          Zabbix Template
        </a></span> <span class="next"><a href="/uninsta/">
          Uninstall KernelCare
        </a>
        →
      </span></p></div> </div> <div class="footer" data-v-675e349c><div data-v-675e349c><a href="https://cloudlinux.com" data-v-675e349c><img src="/we-are-cloudlinux.svg" alt="We are Cloudlinux" data-v-675e349c></a></div> <div data-v-675e349c>2018. CloudLinux Inc</div> <div data-v-675e349c><div data-v-675e349c><a href="#" target="_blank" data-v-675e349c>How to</a></div><div data-v-675e349c><a href="#" target="_blank" data-v-675e349c>Getting started</a></div><div data-v-675e349c><a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" data-v-675e349c>Contact support</a></div><div data-v-675e349c><a href="https://www.cloudlinux.com/kernelcare-blog" target="_blank" data-v-675e349c>Blog</a></div></div> <div class="social" data-v-675e349c><span data-v-675e349c>Stay in touch</span> <a href="https://www.facebook.com/kernelcare/" target="_blank" data-v-675e349c><img src="/fb.svg" data-v-675e349c></a><a href="https://twitter.com/kernelcare" target="_blank" data-v-675e349c><img src="/tw.svg" data-v-675e349c></a><a href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-675e349c><img src="/in.svg" data-v-675e349c></a><a href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-675e349c><img src="/ytube.svg" data-v-675e349c></a></div></div> <!----></div></div>
    <script src="/assets/js/43.b19f8a61.js" defer></script><script src="/assets/js/app.bcc46952.js" defer></script>
  </body>
</html>
