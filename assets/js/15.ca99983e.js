(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{210:function(e,t,a){"use strict";a.r(t);var r=a(1),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),e._v(" "),a("p",[e._v("KernelCare.ePortal is a web management console for KernelCare for servers located behind the firewall, with no internet access. It is part of KernelCare Enterprise offering, and should be installed on premisses")]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),a("p",[e._v("To install KernelCare.ePortal, start with the minimal image of EL6")]),e._v(" "),a("p",[e._v("For installation and workability of e-portal nginx web server is required. We recommend to use a stable version from the official nginx repository:")]),e._v(" "),e._m(3),a("p",[e._v("Please find more information at "),a("a",{attrs:{href:"http://nginx.org/en/linux_packages.html#stable",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://nginx.org/en/linux_packages.html#stable"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Setup KernelCare.ePortal repo:")]),e._v(" "),e._m(4),a("p",[e._v("Install KernelCare.eportal:")]),e._v(" "),e._m(5),e._m(6),e._v(" "),a("p",[e._v("To install KernelCare.ePortal, start with the minimal image of EL7")]),e._v(" "),a("p",[e._v("For installation and workability of e-portal nginx web server is required. We recommend to use stable version from the official nginx repository:")]),e._v(" "),e._m(7),a("p",[e._v("Please find more information at "),a("a",{attrs:{href:"http://nginx.org/en/linux_packages.html#stable",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://nginx.org/en/linux_packages.html#stable"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Setup KernelCare.ePortal repo:")]),e._v(" "),e._m(8),a("p",[e._v("Install KernelCare.eportal:")]),e._v(" "),e._m(9),e._m(10),e._v(" "),a("p",[e._v("You can manage portal using /usr/bin/kc.eportal utility:")]),e._v(" "),e._m(11),a("p",[e._v("To add a user:")]),e._v(" "),e._m(12),a("p",[e._v("To change user's password:")]),e._v(" "),e._m(13),e._m(14),e._v(" "),a("p",[e._v("It is possible to support a secure connection. To do so, specify the right format of connection string as a key to enter user login.")]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),a("p",[e._v("You are also able to specify security settings and set-up timeouts using LDAP URL.")]),e._v(" "),e._m(17),e._v(" "),a("p",[e._v("To access KernelCare.eportal management console, connect to:\n"),a("a",{attrs:{href:"http://YOUR_IP/admin",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://YOUR_IP/admin"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("And enter your login & password")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://docs.kernelcare.com/access_eportal.png",alt:""}}),e._v("\nYou can manage your login information using "),a("router-link",{attrs:{to:"/kernelcare_enterprise/#managing-users"}},[e._v("kc.eportal tool")]),e._v(" .")],1),e._v(" "),a("h2",{attrs:{id:"patchset-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#patchset-deployment","aria-hidden":"true"}},[e._v("#")]),e._v(" PatchSet Deployment "),a("Badge",{attrs:{text:"ePortal 0.8+"}})],1),e._v(" "),a("p",[e._v("KernelCare.ePortal has built-in mechanism to download latest patches. To start using it, click on ‘Patch Source’ link in KernelCare.ePortal navigational bar. Your patch source access info will be provided by your KernelCare representative.")]),e._v(" "),e._m(18),e._v(" "),a("p",[e._v("Once you set up patch source access info, you will get to a list of available patchsets. You can always go back & change your access info by clicking on ‘Source’ link.")]),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),e._m(29),a("p",[e._v("To view the list of all servers IDs that are connected to the particular key, do the following:\nIn the UI go to the page with the list of keys. Then click the particular key. The list of servers connected to this key will be displayed.")]),e._v(" "),e._m(30),e._v(" "),e._m(31),e._v(" "),a("p",[e._v("To unroll patchset run:")]),e._v(" "),e._m(32),e._m(33),e._v(" "),a("p",[e._v("To see pairs of key/number of servers run:")]),e._v(" "),e._m(34),e._m(35),e._v(" "),a("p",[e._v("It determines if latest patches are available and installs them.")]),e._v(" "),e._m(36),e._m(37),e._v(" "),a("p",[e._v("In the patch-source page, there is a list of available patches. To unroll patches click the button _ Roll back this patch, and all after it._\nUse it to roll back the patch and all the following patches.")]),e._v(" "),e._m(38),e._v(" "),a("p",[e._v("A new table is added to the starting page. This table displays the following:\nTotal number of servers.\nNumber of servers that checked in for the past 48 hours.")]),e._v(" "),e._m(39),e._v(" "),e._m(40),e._v(" "),e._m(41),e._m(42),e._v(" "),a("p",[e._v("Feeds are intended to manage patchsets on the server, and they provide a possibility to bind a set of patches to a specific key. Possible use cases: for preliminary testing of patches, for applying updates to groups of servers with the similar hardware, etc.")]),e._v(" "),a("p",[e._v("To get into Feeds Management interface go to Settings → Feeds:")]),e._v(" "),e._m(43),e._v(" "),a("p",[e._v("On this page a user can manage the existing feeds: create, delete, edit.")]),e._v(" "),e._m(44),e._v(" "),a("p",[e._v("Available options:\nName — a name of a feed.\nAuto update — enable and disable automatic downloading of patches to this feed.\nDeploy after X hours — a delay in hours between the moment the patchset is available for deployment and the moment it is installed to the feed.")]),e._v(" "),e._m(45),e._v(" "),e._m(46),e._v(" "),a("p",[e._v("A special case is a clean installation when ePortal is installed on a new server (there aren't any downloaded archives with patches and feeds with deployed patchsets, including default feed). In this case, if a user creates a new feed and sets Deployed after X hours option right away, then all patches (from the oldest to the latest available) will be deployed to the feed after the specified X hours. This is because the archives are downloaded from scratch and will be considered as “just appeared on ePortal” — that is, all patches will have the same appearance time on ePortal from which the option Deploy after X hours will repel.")]),e._v(" "),e._m(47),e._v(" "),a("p",[e._v("On the main ePortal page, a user can set the corresponding key <> feed pair. This is done in the key creation interface or when editing a key.")]),e._v(" "),e._m(48),e._v(" "),a("p",[e._v("By default, a new key is bound to the default feed, alternatively, a user can choose a desired feed from the drop-down menu.")]),e._v(" "),e._m(49),e._v(" "),a("p",[e._v("Note that when removing a feed all keys attached to this feed will be moved to the default feed.")]),e._v(" "),e._m(50),e._v(" "),e._m(51),e._v(" "),a("p",[e._v("To add an extra Tag field for the server, run:")]),e._v(" "),e._m(52),e._m(53),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),e._m(54),e._m(55),e._v(" "),e._m(56),e._v(" "),e._m(57),e._v(" "),a("p",[e._v("To remove all tags from a particular server, run:")]),e._v(" "),e._m(58),a("p",[e._v("Where ''\" is a parameter to delete the previously defined tag.")]),e._v(" "),e._m(59),e._v(" "),a("p",[e._v("Some assumptions for a server where e-portal is deployed:")]),e._v(" "),e._m(60),e._v(" "),a("p",[e._v("Edit ssl configuration template according to your certificates:")]),e._v(" "),e._m(61),a("p",[e._v("Include this configuration into the main one:")]),e._v(" "),e._m(62),a("p",[e._v("Restart nginx:")]),e._v(" "),e._m(63),a("p",[e._v("In order to communicate with e-portal, updated to https, you need to modify KernelCare config files on all the servers if they have IPs hardcoded servers settings.")]),e._v(" "),a("p",[e._v("To do that, update PATCH_SERVER and REGISTRATION_URL environment variables:")]),e._v(" "),e._m(64),e._m(65),e._v(" "),e._m(66),a("p",[e._v("The following example demonstrates how to connect new servers to e-portal configured for https:")]),e._v(" "),e._m(67),e._m(68),e._v(" "),a("p",[e._v("To deploy kernelcare client software to use ePortal, following enviornment variables should be setup prior to RPM install:")]),e._v(" "),e._m(69),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),e._m(70),e._m(71),e._m(72),e._v(" "),a("p",[e._v("KernelCare client configuration file is located in /etc/sysconfig/kcare/kcare.conf")]),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),e._m(73),e._m(74),e._v(" "),a("p",[e._v("PATCH_SERVER -- server from which patches will be downloaded")]),e._v(" "),a("p",[e._v("REGISTRATION_URL -- URL used to register/unregister server")]),e._v(" "),e._m(75),e._v(" "),a("p",[e._v("You can change ePortal IP at any moment, but you need to modify KernelCare config files on all the servers if they have IPs hardcoded.\nTo do that, edit: /etc/sysconfig/kcare/kcare.conf")]),e._v(" "),a("p",[e._v("Change:")]),e._v(" "),e._m(76),a("p",[e._v("To point to the right location.")]),e._v(" "),e._m(77),e._v(" "),a("p",[e._v("Web Server (nginx) configuration is located at /etc/nginx/conf.d/eportal.conf")]),e._v(" "),a("p",[e._v("Database (sqlite) is stored in /usr/share/kcare-eportal/data.sqlite\nTo reset database:")]),e._v(" "),e._m(78),a("p",[e._v("Client access data file used to decide if server has access to the patches is stored in /usr/share/kcare-eportal/kcare_servers.htpasswd")]),e._v(" "),a("p",[e._v("Patches are stored in: /usr/share/kcare-eportal/patches")]),e._v(" "),e._m(79),e._v(" "),e._m(80),e._v(" "),a("p",[e._v("To stop/start/reload/restart configuration of nginx server:")]),e._v(" "),e._m(81),a("p",[e._v("To stop/start/restart ePortal (Python):")]),e._v(" "),e._m(82),e._m(83),e._v(" "),a("p",[e._v("To stop/start/reload/restart configuration of nginx server:")]),e._v(" "),e._m(84),a("p",[e._v("To stop/start/restart ePortal (Python):")]),e._v(" "),e._m(85),e._m(86),e._v(" "),a("p",[e._v("ePortal messages/errors:\n/var/log/uwsgi/uwsgi-emperor.log")]),e._v(" "),a("p",[e._v("nginx ePortal access log:\n/var/log/nginx/kcare-eportal.log")]),e._v(" "),a("p",[e._v("nginx error log:\n/var/log/nginx/error_log")]),e._v(" "),a("h2",{attrs:{id:"eportal-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eportal-api","aria-hidden":"true"}},[e._v("#")]),e._v(" ePortal API "),a("Badge",{attrs:{text:"ePortal 0.9+"}})],1),e._v(" "),a("p",[e._v("KernelCare.ePortal provides limited API to remove servers based on key & IP.")]),e._v(" "),a("p",[e._v("To access the API, first setup API token used for authentication:")]),e._v(" "),e._m(87),e._v(" "),e._m(88),e._v(" "),a("p",[e._v("Parameters:")]),e._v(" "),a("p",[e._v("key - KernelCare.ePortal key under which server is registered;\nIP - remote server IP as displayed in KernelCare.ePortal;\ntoken - API token.")]),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://ePortal_url/admin/api/kcare/unregister_by_key.plain?key=2M6gmIS6fHh39aF2&ip=10.1.10.74&token=your_token",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://ePortal_url/admin/api/kcare/unregister_by_key.plain?key=2M6gmIS6fHh39aF2&ip=10.1.10.74&token=your_token"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Return code: int\n-3 API token file does not exist;\n-2 API token doesn't match;\n-1 Internal error, see /var/log/uwsgi/uwsgi-emperor.log for details;\nany other number - number of servers removed.")]),e._v(" "),e._m(89),e._v(" "),a("p",[e._v("KernelCare.ePortal since version 1.2 supports server monitoring similar to "),a("router-link",{attrs:{to:"/nagios_plugin/"}},[e._v("Nagios")]),e._v(" & "),a("router-link",{attrs:{to:"/zabbix_template/"}},[e._v("Zabbix")]),e._v(" monitoring.")],1),e._v(" "),a("p",[e._v("You can curl the API directly to receive the information:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://yourserver/admin/api/kcare/nagios/KCAREKEY",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://yourserver/admin/api/kcare/nagios/KCAREKEY"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("or you can use "),a("a",{attrs:{href:"http://patches.kernelcare.com/downloads/nagios/check_kcare",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://patches.kernelcare.com/downloads/nagios/check_kcare"),a("OutboundLink")],1),e._v(" script by modifying KEY_KCARE_NAGIOS_ENDPOINT in it to point to your server (change "),a("a",{attrs:{href:"https://cln.cloudlinux.com/clweb",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cln.cloudlinux.com/clweb"),a("OutboundLink")],1),e._v(" with "),a("a",{attrs:{href:"https://yourserver/admin",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://yourserver/admin"),a("OutboundLink")],1),e._v(" ).")]),e._v(" "),e._m(90)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"kernelcare-eportal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-eportal","aria-hidden":"true"}},[this._v("#")]),this._v(" KernelCare.ePortal")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"kernelcare-eportal-on-el6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-eportal-on-el6","aria-hidden":"true"}},[this._v("#")]),this._v(" KernelCare.ePortal on EL6")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ cat > /etc/yum.repos.d/nginx.repo <<EOL\n[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/centos/6/\\$basearch/\ngpgcheck=0\nenabled=1\nEOL\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ cat > /etc/yum.repos.d/kcare-eportal.repo <<EOL\n[kcare-eportal]\nname=kcare-eportal\nbaseurl=http://repo.eportal.kernelcare.com/x86_64/\ngpgkey=http://repo.cloudlinux.com/kernelcare-debian/6/conf/kcaredsa_pub.gpg\nenabled=1\ngpgcheck=1\nEOL\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ yum install kcare-eportal\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"kernelcare-eportal-on-el7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-eportal-on-el7","aria-hidden":"true"}},[this._v("#")]),this._v(" KernelCare.ePortal on EL7")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ cat > /etc/yum.repos.d/nginx.repo <<EOL\n[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/centos/7/\\$basearch/\ngpgcheck=0\nenabled=1\nEOL\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ cat > /etc/yum.repos.d/kcare-eportal.repo <<EOL\n[kcare-eportal]\nname=KernelCare ePortal\nbaseurl=https://repo.eportal.kernelcare.com/x86_64.el7/\nenabled=1\ngpgkey=https://repo.cloudlinux.com/kernelcare/RPM-GPG-KEY-KernelCare\ngpgcheck=1\nEOL\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ yum install kcare-eportal\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"managing-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-users","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing Users")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("-l | --list-users      : list all users\n-a | --add-user        : add a user\n-d | --delete-user     : delete a user\n-c | --change-password : change a user password\n-p | --password        : provide a password for a user\n-h | --help            : show this help\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ kc.eportal -a admin -p AdminPassword\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ kc.eportal -c admin -p NewPassword\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"ldap-authorization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ldap-authorization","aria-hidden":"true"}},[this._v("#")]),this._v(" LDAP authorization")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("uid=%s,dc=example,dc=com")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Note.")]),this._v(" This key is a must in a connection string and should include ‘%s’")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"accessing-eportal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#accessing-eportal","aria-hidden":"true"}},[this._v("#")]),this._v(" Accessing ePortal")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/eportal_dep01.jpg",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/eportal_dep02_zoom87.png",alt:""}}),this._v("\nClicking on [changelog] will provide changelog for given patchset.\nClicking on [deploy this patch, and all before it] will download and deploy this patchset and all the patchsets above. It is impossible to deploy patchsets out of order.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"managing-keys"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-keys","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing Keys")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To register new servers you need to create a KernelCare key used for the registration.\nClick "),t("em",[this._v("Add")]),this._v(" button, so a new registration key will be automatically generated and shown in the list below.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/hmfile_hash_13c22427.png",alt:""}}),this._v("\nThe key itself will be used as part of the registration command on individual server. You can provide a description for the key, as well as max servers that can be registered under that key.\nRemoving the key would remove all servers under the key.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Clicking on the key would let you see the information about "),t("a",{attrs:{href:"/kernelcare_enterprise#managing-servers"}},[this._v("servers registered")]),this._v(" under that key, as well as remove servers.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"managing-servers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing Servers")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can see servers belonging to the key by clicking on the key itself in "),t("a",{attrs:{href:"/kernelcare_enterprise#managing-keys"}},[this._v("Managing Keys")]),this._v(" interface.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/server_list.png",alt:""}}),this._v("\nThe screen shows servers registered under the key, their IP, hostname, effective kernel as well as the time of registration and last check in.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"managing-script"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-script","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing Script")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[t("em",[this._v("Note.")])]),this._v(" If scripts do not work on your ePortal, you might need to update ePortal first. To update ePortal, please run the following command:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("> yum update kcare-eportal\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To view the list of all servers IDs that are not connected to any key, do the following:\nIn the UI go to the page with the list of keys. Then click "),t("em",[this._v("Reset filters")]),this._v(" button.\nOR just follow this URL "),t("em",[this._v("http://EPORTAL_IP/admin/kcserver/.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"script-to-unroll-patchsets"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#script-to-unroll-patchsets","aria-hidden":"true"}},[this._v("#")]),this._v(" Script to unroll patchsets")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("> kc.eportal --unroll 16012017_1\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"script-to-determine-the-number-of-servers-under-the-management-of-eportal-per-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#script-to-determine-the-number-of-servers-under-the-management-of-eportal-per-key","aria-hidden":"true"}},[this._v("#")]),this._v(" Script to determine the number of servers under the management of ePortal, per key")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("> kc.eportal --list-servers\n\nCount | Key\n----- + --------------------------------\n    0 | 2shcolu7Y1x6885Q\n    2 | 6J89aS44j6OmTr05\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"script-to-automatically-install-latest-patchsets"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#script-to-automatically-install-latest-patchsets","aria-hidden":"true"}},[this._v("#")]),this._v(" Script to automatically install latest patchsets")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v(">kc.eportal --get-latest\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"unroll-patches-from-ui"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unroll-patches-from-ui","aria-hidden":"true"}},[this._v("#")]),this._v(" Unroll patches from UI")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"show-extended-check-in-statistics-in-admin-ui"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#show-extended-check-in-statistics-in-admin-ui","aria-hidden":"true"}},[this._v("#")]),this._v(" Show extended check-in statistics in admin UI")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The number of servers for each key is listed in the "),t("em",[this._v("Key Inventory")]),this._v(" table.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"ability-to-create-read-only-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ability-to-create-read-only-users","aria-hidden":"true"}},[this._v("#")]),this._v(" Ability to create read-only users")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("[root@localhost ~]# kc.eportal -l\nNum | Username\n--- + --------------------------------\n  1 | admin\n  2 | user\n[root@localhost ~]# kc.eportal -r user\nUser 'user' is now readonly\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"feed-management"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#feed-management","aria-hidden":"true"}},[this._v("#")]),this._v(" Feed Management")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/feedmanagement1_zoom70.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/feedmanagement2_zoom70.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Every 10 minutes ePortal checks for new patches on the main patch server. If a new patch is available, it is uploaded to the ePortal server. Note: it is uploaded but is not deployed. The patch availability time is considered starting from the moment a new patch appears on the ePortal, and that time is taken into account in "),t("em",[this._v("Deploy after X hours _ option "),t("em",[this._v(".")]),this._v(" So, if a user sets _ Deploy after X hours = 10")]),this._v(" , the patch will be deployed to the feed 10 hours after it has been downloaded to the ePortal server.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To make the feed auto-update immediately (so that, new patches are loaded to the feed immediately after they are available on ePortal), set "),t("em",[this._v("Deploy after X hours = 0.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/feedmanagement3_zoom70.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/feedmanagement4_zoom70.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/feedmanagement5_zoom70.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/feedmanagement6_zoom70.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"adding-extra-tag-field"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adding-extra-tag-field","aria-hidden":"true"}},[this._v("#")]),this._v(" Adding extra Tag field")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("kcarectl --tag command\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("where "),t("em",[this._v("command")]),this._v(" is a parameter defined by a user. This parameter will be displayed in UI for the server. User could add multiple tags for each server. Each tag should be separated with ‘;’ symbol.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("kcarectl --tag “env:prod;ubuntu”\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("This server has two tags : "),t("em",[this._v("env:prod")]),this._v(" and "),t("em",[this._v("ubuntu")]),this._v(" .")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("env:prod")]),this._v(" is a parameter that has tag name "),t("em",[this._v("env")]),this._v(" and the value "),t("em",[this._v("prod.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://docs.kernelcare.com/addingextratagfield_zoom88.png",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('kcarectl --tag ""\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"how-to-setup-eportal-to-use-https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-setup-eportal-to-use-https","aria-hidden":"true"}},[this._v("#")]),this._v(" How to setup ePortal to use HTTPS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("A firewall is disabled for 443 port.")]),this._v(" "),t("li",[this._v("Private and public keys are downloaded on the server.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("mv /etc/nginx/eportal.ssl.conf.example /etc/nginx/eportal.ssl.conf\nvi /etc/nginx/eportal.ssl.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("sed -e '3iinclude eportal.ssl.conf;' -i /etc/nginx/conf.d/eportal.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("service nginx restart\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("vi /etc/sysconfig/kcare/kcare.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("So, after editing your "),t("em",[this._v("/etc/sysconfig/kcare/kcare.conf")]),this._v(" should contain updated PATCH_SERVER and REGISTRATION_URL environment variables like in the example below:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("PATCH_SERVER=https://eportal_domain_name/\nREGISTRATION_URL=https://eportal_domain_name/admin/api/kcare\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ export KCARE_PATCH_SERVER=https://eportal_domain_name/\n$ export KCARE_REGISTRATION_URL=https://eportal_domain_name/admin/api/kcare\n$ export KCARE_MAILTO=admin@mycompany.com\n$ curl -s https://repo.cloudlinux.com/kernelcare/kernelcare_install.sh | bash\n$ /usr/bin/kcarectl --register key_from_your_eportal\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"deploying-kernelcare"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploying-kernelcare","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploying kernelcare")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",[a("thead",[a("tr",[a("th",[e._v("Environment Variable")]),e._v(" "),a("th",[e._v("Value")]),e._v(" "),a("th",[e._v("Description")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("KCARE_PATCH_SERVER")]),e._v(" "),a("td",[e._v("http://eportal_ip/")]),e._v(" "),a("td",[e._v("URL to a server from which patches will be downloaded")])]),e._v(" "),a("tr",[a("td",[e._v("KCARE_REGISTRATION_URL")]),e._v(" "),a("td",[e._v("http://eportal_ip/admin/api/kcare")]),e._v(" "),a("td",[e._v("URL to ePortal's api")])]),e._v(" "),a("tr",[a("td",[e._v("KCARE_MAILTO [2.5+]")]),e._v(" "),a("td",[e._v("email@address")]),e._v(" "),a("td",[e._v("Email to receive all notifications related to failed KernelCare updates. Used in /etc/cron.d/kcare-cron")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ export KCARE_PATCH_SERVER=http://10.1.10.115/\n$ export KCARE_REGISTRATION_URL=http://10.1.10.115/admin/api/kcare\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ export \n$ curl -s https://repo.cloudlinux.com/kernelcare/kernelcare_install.sh | bash\n$ kcarectl --register r72fF838Q47oWigj\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"kernelcare-client-config-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-client-config-file","aria-hidden":"true"}},[this._v("#")]),this._v(" KernelCare client config file")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("AUTO_UPDATE=True\nPATCH_SERVER=http://10.1.10.115/\nREGISTRATION_URL=http://10.1.10.115/admin/api/kcare\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v("If "),t("code",[this._v("AUTO_UPDATE")]),this._v(" set to true, KernelCare client will check in every 4 hours, and try to download and apply latest patches")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"changing-eportal-ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changing-eportal-ip","aria-hidden":"true"}},[this._v("#")]),this._v(" Changing ePortal IP")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("PATCH_SERVER=http://10.1.10.115/\nREGISTRATION_URL=http://10.1.10.115/admin/api/kcare\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"configuration-locations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-locations","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration & locations")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ rm /usr/share/kcare-eportal/data.sqlite\n$ cd /usr/share/kcare-eportal && python createdb.py\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"stopping-starting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stopping-starting","aria-hidden":"true"}},[this._v("#")]),this._v(" Stopping & Starting")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"kernelcare-eportal-on-el6-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-eportal-on-el6-2","aria-hidden":"true"}},[this._v("#")]),this._v(" KernelCare.ePortal on EL6")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ /etc/init.d/nginx stop|start|reload|restart\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ /etc/init.d/uwsgi stop|start|restart\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"kernelcare-eportal-on-el7-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-eportal-on-el7-2","aria-hidden":"true"}},[this._v("#")]),this._v(" KernelCare.ePortal on EL7")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ systemctl stop|start|reload|restart nginx\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("$ systemctl stop|start|restart emperor.uwsgi\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"log-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Log Files")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("echo your_token > /usr/share/kcare-eportal/config/api.token")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("API method: "),t("code",[this._v("unregister_by_key.plain")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"nagios-zabbix-support"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nagios-zabbix-support","aria-hidden":"true"}},[this._v("#")]),this._v(" Nagios & Zabbix support")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("Please, note that access using PARTNER_LOGIN/TOKEN is not supported by KernelCare.ePortal.")])])}],!1,null,null,null);s.options.__file="README.md";t.default=s.exports}}]);